<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>{{title}}</title>
  <meta name="description" content="book details">
  <meta name="author" content="Faduma">
  <link href="https://fonts.googleapis.com/css?family=Anton|Jura&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <style>
    body {
      background-color: #f5f5f5;
      color: #333;
      font-family: 'Roboto', sans-serif;
      text-align: left;
      padding: 50px;
    }

    .card {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }

    .card-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .card-info {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .card-info-icon {
      margin-right: 5px;
    }

    .buttons {
      display: flex;
      align-items: center;
    }

    .delete,
    .update {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 8px 15px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      margin-right: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .delete {
      background-color: #f44336;
    }

    .update:hover,
    .delete:hover {
      background-color: #333;
    }

    .home-container {
      position: fixed;
      top: 0;
      left: 0;
      padding: 10px;
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }

    button.home {
      background-color: transparent;
      border: none;
      color: #333;
      padding: 10px;
      font-size: 20px;
      cursor: pointer;
    }

    .home-icon {
      margin-left: 5px;
    }

    /* Comment Section Styles */

    .comments-container {
      margin-top: 30px;
    }

    .comment-form {
      margin-bottom: 20px;
    }

    .comment-input {
      width: 100%;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      resize: vertical;
    }

    .comment-submit {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 8px 15px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      margin-top: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .comment-submit:hover {
      background-color: #45a049;
    }

    .comment-list li {
      background-color: #ffffff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 15px;
      transition: box-shadow 0.3s;
    }

    .comment-list li:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .comment-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
      font-size: 14px;
      color: #888;
    }

    .comment-username {
      font-weight: bold;
    }

    .comment-timestamp {
      color: #aaa;
    }

    .comment-text {
      margin-top: 5px;
    }

    /* Updated styles */

    .comment-label {
      display: inline-block;
      background-color: #4CAF50;
      color: white;
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 4px;
      margin-bottom: 10px;
    }

    .comment-input {
      width: 100%;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      resize: vertical;
    }

    .comment-submit {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 8px 15px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      margin-top: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .comment-submit:hover {
      background-color: #45a049;
    }

    .comment-list {
      list-style-type: none;
      padding: 0;
    }

    .comment-list li {
      background-color: #ffffff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 15px;
      transition: box-shadow 0.3s;
    }

    .comment-list li:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .comment-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
      font-size: 14px;
      color: #888;
    }

    .comment-username {
      font-weight: bold;
    }

    .comment-timestamp {
      color: #aaa;
    }

    .comment-text {
      margin-top: 5px;
    }
  </style>
</head>

<body>
  <div class="home-container">
    <a href="/">
      <button class="home">
        <i class="fas fa-arrow-left home-icon"></i> Go Back Home
      </button>
    </a>
  </div>

  <div class="card">
    <div class="card-header">
      <h1 class="card-title">{{title}}</h1>
    </div>

    <div class="card-info">
      <i class="fas fa-book card-info-icon"></i>
      <p class="isbn">ISBN13: {{isbn}}</p>
    </div>
    <div class="card-info">
      <i class="fas fa-info-circle card-info-icon"></i>
      <p class="description">{{description}}</p>
    </div>
    <div class="buttons">
      <form action="/details/{{id}}/delete" method="post" onsubmit="return confirm('Are you sure you want to delete?')">
        <button type="submit" class="delete">
          <i class="fas fa-trash"></i> Delete
        </button>
      </form>
      <a href="/details/{{id}}/update">
        <button class="update">
          <i class="fas fa-edit"></i> Update
        </button>
      </a>
    </div>
    <div class="comments-container">
      <h2>Comments</h2>
      <form class="comment-form" action="/comments" method="post">
        <label for="comment" class="comment-label">Comment:</label>
        <textarea class="comment-input" rows="3" placeholder="Write a comment" name="comment"></textarea>
        <input type="hidden" name="bookId" value="{{id}}">
        <input type="hidden" name="userId" value="{{userId}}">
        <input type="hidden" name="username" value="{{username}}">
        <button type="submit" class="comment-submit">Submit</button>
      </form>
      <ul class="comment-list">
        {{#each comments}}
        <li>
          <p class="comment-meta">
            <span class="comment-username">{{username}}</span>
            <span class="comment-timestamp">{{timestamp}}</span>
          </p>
          <p class="comment-text">{{comment}}</p>
        </li>
        {{/each}}
      </ul>
    </div>
  </div>
</body>

</html>